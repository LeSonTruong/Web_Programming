-- MySQL dump 10.13  Distrib 8.0.42, for Win64 (x86_64)
--
-- Host: localhost    Database: web_programming
-- ------------------------------------------------------
-- Server version	8.0.43

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `ai_queue`
--

DROP TABLE IF EXISTS `ai_queue`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ai_queue` (
  `id` int NOT NULL AUTO_INCREMENT,
  `document_id` int NOT NULL,
  `status` enum('pending','processing','done','failed') DEFAULT 'pending',
  `checkstatus` tinyint(1) DEFAULT NULL,
  `log` text,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `document_id` (`document_id`),
  CONSTRAINT `ai_queue_ibfk_1` FOREIGN KEY (`document_id`) REFERENCES `documents` (`doc_id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=32 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ai_queue`
--

LOCK TABLES `ai_queue` WRITE;
/*!40000 ALTER TABLE `ai_queue` DISABLE KEYS */;
INSERT INTO `ai_queue` VALUES (19,13,'done',1,'{\"status\": \"success\", \"checkstatus\": [1], \"summary\": \"Sản phẩm bàn giao gồm mã nguồn chương trình, báo cáo kỹ thuật, mô hình phân loại, và so sánh kết quả. Tiêu chí đánh giá: Độ chính xác và phân tích kết quả (30%), tính sáng tạo trong giao diện (20%), và giao diện hiển thị trực quan (20%). Yêu cầu: Chuẩn bị tập dữ liệu gồm người dùng, sản phẩm, lịch sử tương tác. Sản phẩm bao gồm: Mã nguồn, bộ dữ liệu mẫu, và mô hình.\\nSản phẩm bàn giao: Mã nguồn chương trình, bộ dữ liệu người dùng, sản phẩm, báo cáo kỹ thuật, mô hình, kết quả, và hệ thống gợi ý. Hệ thống hỏi đáp dựa trên tài liệu upload bằng LLM-RAG. Yêu cầu: Chuẩn bị tri thức, mô tả triệu chứng, bệnh, lỗi, nguyên nhân, và giao diện nhập dữ liệu tình huống. Báo cáo đầy đủ, logic, có phân tích kết quả (20%).\", \"category\": \"Giáo dục thể chất\", \"top_candidates\": [{\"index\": 135, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Giải tích số (114)\", \"faiss_score\": 0.6305392980575562, \"chunk_ids\": [11], \"rerank_score\": 0.8890628814697266}, {\"index\": 278, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Lập trình cơ bản (126)\", \"faiss_score\": 0.6804080009460449, \"chunk_ids\": [22], \"rerank_score\": 0.8744856715202332}, {\"index\": 655, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Thực phẩm, nước và sức khỏe (155)\", \"faiss_score\": 0.6290963292121887, \"chunk_ids\": [51], \"rerank_score\": 0.8735658526420593}, {\"index\": 416, \"key\": \"Article\", \"text\": \"Phân tích và thiết kế các hệ thống thông tin\", \"faiss_score\": 0.6352987885475159, \"chunk_ids\": [33], \"rerank_score\": 0.8687567114830017}, {\"index\": 198, \"key\": \"Content.SubCategory.Core[2]\", \"text\": \"Các khái niệm, mô hình và vấn đề then chốt của Hệ quản trị cơ sở dữ liệu (117)\", \"faiss_score\": 0.6349462866783142, \"chunk_ids\": [16], \"rerank_score\": 0.8513652086257935}]}','2025-10-26 15:00:22','2025-10-26 15:01:08'),(20,13,'failed',NULL,'Error: HTTPSConnectionPool(host=\'banhgao-alongai.hf.space\', port=443): Read timed out. (read timeout=120)','2025-10-26 16:18:11','2025-10-27 18:19:07'),(21,14,'done',1,'{\"status\": \"success\", \"checkstatus\": [1], \"summary\": \"Cơ chế xác thực 1.1 http authentication là cơ chế bảo vệ tài nguyên trực tuyến khỏi truy cập trái phép bằng cách yêu cầu người dùng cung cấp thông tin đăng nhập hoặc mã thông báo xác thực. Sử dụng mã hóa đơn giản, mã hóa hàm 1 chiều, và mã hóa chuỗi ngẫu nhiên, nhưng có một số vấn đề như lưu username và password vào CSDL không an toàn. Giải pháp là sử dụnghash function với tham số PASSWORDDEFAULT.\\nLưu ý: độ dài chuỗi mật khẩu sinh ra tối thiểu 255, do vậy cần thiết lập CSDL lưu trữ đủ lớn (tối thiểu 255). Sử dụng mãhash để tạo giá trị băm từ mật khẩu $password, tạo biến phiên lưu trữ thông tin người dùng, và sử dụng session để xác minh quyền truy cập. Ajax cho phép gửi yêu cầu HTTP và nhận dữ liệu từ máy chủ, sau đó cập nhật nội dung trang web mà không cần làm mới.\\nHàm xử lý sự kiện, $.ajax, gửi yêu cầu Ajax đến máy chủ, bao gồm: url, id, và.asp. Học jquery: https://www.w3schools.com/jquery/default.ap 29 Ví dụ, khi nhấn add to elements, hệ thống thêm class cho text 30 Index.php 31 Project: Đăng nhập, phân quyền người dùng, quản trị nhân viên, và mã hóa mật khẩu.\", \"category\": \"Kiến trúc máy tính\", \"top_candidates\": [{\"index\": 185, \"key\": \"Content.SubCategory.Core[2]\", \"text\": \"Các khái niệm, mô hình và vấn đề then chốt của Hệ điều hành Linux (116)\", \"faiss_score\": 0.5419146418571472, \"chunk_ids\": [15], \"rerank_score\": 0.021634742617607117}, {\"index\": 96, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Chuyên đề 2: Lập trình Web nâng cao (111)\", \"faiss_score\": 0.5706900954246521, \"chunk_ids\": [8], \"rerank_score\": 0.018480082973837852}, {\"index\": 99, \"key\": \"Content.SubCategory.Applied[2]\", \"text\": \"Phát triển sản phẩm, dịch vụ dựa trên kiến thức Chuyên đề 2: Lập trình Web nâng cao 7A2\", \"faiss_score\": 0.5568943619728088, \"chunk_ids\": [8], \"rerank_score\": 0.017115741968154907}, {\"index\": 98, \"key\": \"Content.SubCategory.Applied[1]\", \"text\": \"Giải quyết các bài toán, tình huống thực tế bằng Chuyên đề 2: Lập trình Web nâng cao 7A1\", \"faiss_score\": 0.5549716353416443, \"chunk_ids\": [8], \"rerank_score\": 0.014592037536203861}, {\"index\": 102, \"key\": \"Content.SubCategory.Interdisciplinary[1]\", \"text\": \"Vai trò của Chuyên đề 2: Lập trình Web nâng cao trong môi trường giao thoa các lĩnh vực khác 7I1\", \"faiss_score\": 0.5685443878173828, \"chunk_ids\": [8], \"rerank_score\": 0.014216337352991104}]}','2025-10-27 14:39:25','2025-10-27 18:20:38'),(22,12,'done',0,'{\"status\": \"success\", \"checkstatus\": 0, \"summary\": \"❌ File quá ngắn hoặc không có text layer\", \"category\": \"\", \"top_candidates\": []}','2025-10-27 14:44:18','2025-10-27 18:20:46'),(23,14,'done',1,'{\"status\": \"success\", \"checkstatus\": [1], \"summary\": \"Cơ chế xác thực 1.1 http authentication là cơ chế bảo vệ tài nguyên trực tuyến khỏi truy cập trái phép bằng cách yêu cầu người dùng cung cấp thông tin đăng nhập hoặc mã thông báo xác thực. Sử dụng mã hóa đơn giản, mã hóa hàm 1 chiều, và mã hóa chuỗi ngẫu nhiên, nhưng có một số vấn đề như lưu username và password vào CSDL không an toàn. Giải pháp là sử dụnghash function với tham số PASSWORDDEFAULT.\\nLưu ý: độ dài chuỗi mật khẩu sinh ra tối thiểu 255, do vậy cần thiết lập CSDL lưu trữ đủ lớn (tối thiểu 255). Sử dụng mãhash để tạo giá trị băm từ mật khẩu $password, tạo biến phiên lưu trữ thông tin người dùng, và sử dụng session để xác minh quyền truy cập. Ajax cho phép gửi yêu cầu HTTP và nhận dữ liệu từ máy chủ, sau đó cập nhật nội dung trang web mà không cần làm mới.\\nHàm xử lý sự kiện, $.ajax, gửi yêu cầu Ajax đến máy chủ, bao gồm: url, id, và.asp. Học jquery: https://www.w3schools.com/jquery/default.ap 29 Ví dụ, khi nhấn add to elements, hệ thống thêm class cho text 30 Index.php 31 Project: Đăng nhập, phân quyền người dùng, quản trị nhân viên, và mã hóa mật khẩu.\", \"category\": \"Kiến trúc máy tính\", \"top_candidates\": [{\"index\": 185, \"key\": \"Content.SubCategory.Core[2]\", \"text\": \"Các khái niệm, mô hình và vấn đề then chốt của Hệ điều hành Linux (116)\", \"faiss_score\": 0.5419146418571472, \"chunk_ids\": [15], \"rerank_score\": 0.021634742617607117}, {\"index\": 96, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Chuyên đề 2: Lập trình Web nâng cao (111)\", \"faiss_score\": 0.5706900954246521, \"chunk_ids\": [8], \"rerank_score\": 0.018480082973837852}, {\"index\": 99, \"key\": \"Content.SubCategory.Applied[2]\", \"text\": \"Phát triển sản phẩm, dịch vụ dựa trên kiến thức Chuyên đề 2: Lập trình Web nâng cao 7A2\", \"faiss_score\": 0.5568943619728088, \"chunk_ids\": [8], \"rerank_score\": 0.017115741968154907}, {\"index\": 98, \"key\": \"Content.SubCategory.Applied[1]\", \"text\": \"Giải quyết các bài toán, tình huống thực tế bằng Chuyên đề 2: Lập trình Web nâng cao 7A1\", \"faiss_score\": 0.5549716353416443, \"chunk_ids\": [8], \"rerank_score\": 0.014592037536203861}, {\"index\": 102, \"key\": \"Content.SubCategory.Interdisciplinary[1]\", \"text\": \"Vai trò của Chuyên đề 2: Lập trình Web nâng cao trong môi trường giao thoa các lĩnh vực khác 7I1\", \"faiss_score\": 0.5685443878173828, \"chunk_ids\": [8], \"rerank_score\": 0.014216337352991104}]}','2025-10-27 14:45:17','2025-10-27 18:21:44'),(24,14,'done',1,'{\"status\": \"success\", \"checkstatus\": [1], \"summary\": \"Cơ chế xác thực 1.1 http authentication là cơ chế bảo vệ tài nguyên trực tuyến khỏi truy cập trái phép bằng cách yêu cầu người dùng cung cấp thông tin đăng nhập hoặc mã thông báo xác thực. Sử dụng mã hóa đơn giản, mã hóa hàm 1 chiều, và mã hóa chuỗi ngẫu nhiên, nhưng có một số vấn đề như lưu username và password vào CSDL không an toàn. Giải pháp là sử dụnghash function với tham số PASSWORDDEFAULT.\\nLưu ý: độ dài chuỗi mật khẩu sinh ra tối thiểu 255, do vậy cần thiết lập CSDL lưu trữ đủ lớn (tối thiểu 255). Sử dụng mãhash để tạo giá trị băm từ mật khẩu $password, tạo biến phiên lưu trữ thông tin người dùng, và sử dụng session để xác minh quyền truy cập. Ajax cho phép gửi yêu cầu HTTP và nhận dữ liệu từ máy chủ, sau đó cập nhật nội dung trang web mà không cần làm mới.\\nHàm xử lý sự kiện, $.ajax, gửi yêu cầu Ajax đến máy chủ, bao gồm: url, id, và.asp. Học jquery: https://www.w3schools.com/jquery/default.ap 29 Ví dụ, khi nhấn add to elements, hệ thống thêm class cho text 30 Index.php 31 Project: Đăng nhập, phân quyền người dùng, quản trị nhân viên, và mã hóa mật khẩu.\", \"category\": \"Kiến trúc máy tính\", \"top_candidates\": [{\"index\": 185, \"key\": \"Content.SubCategory.Core[2]\", \"text\": \"Các khái niệm, mô hình và vấn đề then chốt của Hệ điều hành Linux (116)\", \"faiss_score\": 0.5419146418571472, \"chunk_ids\": [15], \"rerank_score\": 0.021634742617607117}, {\"index\": 96, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Chuyên đề 2: Lập trình Web nâng cao (111)\", \"faiss_score\": 0.5706900954246521, \"chunk_ids\": [8], \"rerank_score\": 0.018480082973837852}, {\"index\": 99, \"key\": \"Content.SubCategory.Applied[2]\", \"text\": \"Phát triển sản phẩm, dịch vụ dựa trên kiến thức Chuyên đề 2: Lập trình Web nâng cao 7A2\", \"faiss_score\": 0.5568943619728088, \"chunk_ids\": [8], \"rerank_score\": 0.017115741968154907}, {\"index\": 98, \"key\": \"Content.SubCategory.Applied[1]\", \"text\": \"Giải quyết các bài toán, tình huống thực tế bằng Chuyên đề 2: Lập trình Web nâng cao 7A1\", \"faiss_score\": 0.5549716353416443, \"chunk_ids\": [8], \"rerank_score\": 0.014592037536203861}, {\"index\": 102, \"key\": \"Content.SubCategory.Interdisciplinary[1]\", \"text\": \"Vai trò của Chuyên đề 2: Lập trình Web nâng cao trong môi trường giao thoa các lĩnh vực khác 7I1\", \"faiss_score\": 0.5685443878173828, \"chunk_ids\": [8], \"rerank_score\": 0.014216337352991104}]}','2025-10-27 18:43:22','2025-10-27 18:44:29'),(26,16,'done',0,'{\"status\": \"success\", \"checkstatus\": 0, \"summary\": \"❌ Nhiều ký tự lỗi / encode sai\", \"category\": \"\", \"top_candidates\": []}','2025-10-27 18:49:56','2025-10-27 18:50:00'),(27,17,'done',1,'{\"status\": \"success\", \"checkstatus\": [1], \"summary\": \"Sản phẩm bàn giao gồm mã nguồn chương trình, báo cáo kỹ thuật, mô hình phân loại, và so sánh kết quả. Tiêu chí đánh giá: Độ chính xác và phân tích kết quả (30%), tính sáng tạo trong giao diện (20%), và giao diện hiển thị trực quan (20%). Yêu cầu: Chuẩn bị tập dữ liệu gồm người dùng, sản phẩm, lịch sử tương tác. Sản phẩm bao gồm: Mã nguồn, bộ dữ liệu mẫu, và mô hình.\\nSản phẩm bàn giao: Mã nguồn chương trình, bộ dữ liệu người dùng, sản phẩm, báo cáo kỹ thuật, mô hình, kết quả, và hệ thống gợi ý. Hệ thống hỏi đáp dựa trên tài liệu upload bằng LLM-RAG. Yêu cầu: Chuẩn bị tri thức, mô tả triệu chứng, bệnh, lỗi, nguyên nhân, và giao diện nhập dữ liệu tình huống. Báo cáo đầy đủ, logic, có phân tích kết quả (20%).\", \"category\": \"Giáo dục thể chất\", \"top_candidates\": [{\"index\": 135, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Giải tích số (114)\", \"faiss_score\": 0.6305392980575562, \"chunk_ids\": [11], \"rerank_score\": 0.8890628814697266}, {\"index\": 278, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Lập trình cơ bản (126)\", \"faiss_score\": 0.6804080009460449, \"chunk_ids\": [22], \"rerank_score\": 0.8744856715202332}, {\"index\": 655, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Thực phẩm, nước và sức khỏe (155)\", \"faiss_score\": 0.6290963292121887, \"chunk_ids\": [51], \"rerank_score\": 0.8735658526420593}, {\"index\": 416, \"key\": \"Article\", \"text\": \"Phân tích và thiết kế các hệ thống thông tin\", \"faiss_score\": 0.6352987885475159, \"chunk_ids\": [33], \"rerank_score\": 0.8687567114830017}, {\"index\": 198, \"key\": \"Content.SubCategory.Core[2]\", \"text\": \"Các khái niệm, mô hình và vấn đề then chốt của Hệ quản trị cơ sở dữ liệu (117)\", \"faiss_score\": 0.6349462866783142, \"chunk_ids\": [16], \"rerank_score\": 0.8513652086257935}]}','2025-10-27 18:50:48','2025-10-27 18:51:20'),(28,18,'done',1,'{\"status\": \"success\", \"checkstatus\": [1], \"summary\": \"Chủ đề 1: Lập trình ứng dụng với java Buổi 1 - 6: Làm bài thực hành từ 1 đến 9 trong file BaiThucHanhJSP.pdf trong Files/Class Materials. Yêu cầu các chức năng chạy được Nộp mã nguồn .zip Trình bày: Buổi 12: Bài tập lớn (final) Các nhóm nộp toàn bộ sản phảm theo yêu cầu của BTL. Hạn nộp: Trình bày bài tập lớn: Báo cáo BTL\", \"category\": \"Chuyên đề 3: Lập trình nhúng\", \"top_candidates\": [{\"index\": 87, \"key\": \"Content.SubCategory.Applied[3]\", \"text\": \"Kết nối Chuyên đề 1: Lập trình ứng dụng với Java với các lĩnh vực nghề nghiệp chuyên biệt 6A3\", \"faiss_score\": 0.618902325630188, \"chunk_ids\": [7], \"rerank_score\": 0.9631987810134888}, {\"index\": 81, \"key\": \"Content.SubCategory.Core[2]\", \"text\": \"Các khái niệm, mô hình và vấn đề then chốt của Chuyên đề 1: Lập trình ứng dụng với Java (108)\", \"faiss_score\": 0.6186262369155884, \"chunk_ids\": [7], \"rerank_score\": 0.11920323222875595}, {\"index\": 278, \"key\": \"Content.SubCategory.Core[4]\", \"text\": \"Công cụ, kỹ thuật, và phương pháp quan trọng trong Lập trình cơ bản (126)\", \"faiss_score\": 0.630510687828064, \"chunk_ids\": [22], \"rerank_score\": 0.01364455372095108}, {\"index\": 276, \"key\": \"Content.SubCategory.Core[2]\", \"text\": \"Các khái niệm, mô hình và vấn đề then chốt của Lập trình cơ bản (124)\", \"faiss_score\": 0.6594310402870178, \"chunk_ids\": [22], \"rerank_score\": 0.009882668033242226}, {\"index\": 97, \"key\": \"Content.SubCategory.Applied[0]\", \"text\": \"Ứng dụng thực tiễn và kỹ năng thao tác liên quan đến Chuyên đề 2: Lập trình Web nâng cao 7A0\", \"faiss_score\": 0.6176687479019165, \"chunk_ids\": [8], \"rerank_score\": 0.008175856433808804}]}','2025-10-27 18:51:03','2025-10-27 18:51:36'),(29,16,'done',0,'{\"status\": \"success\", \"checkstatus\": 0, \"summary\": \"❌ Nhiều ký tự lỗi / encode sai\", \"category\": \"\", \"top_candidates\": []}','2025-10-27 18:55:49','2025-10-27 18:55:50'),(30,16,'done',0,'{\"status\": \"success\", \"checkstatus\": 0, \"summary\": \"❌ Nhiều ký tự lỗi / encode sai\", \"category\": \"\", \"top_candidates\": []}','2025-10-27 19:00:34','2025-10-27 19:00:38'),(31,16,'done',0,'{\"status\": \"success\", \"checkstatus\": 0, \"summary\": \"❌ Nhiều ký tự lỗi / encode sai\", \"category\": \"\", \"top_candidates\": []}','2025-10-27 19:02:16','2025-10-27 19:02:20');
/*!40000 ALTER TABLE `ai_queue` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-10-28  2:15:16
